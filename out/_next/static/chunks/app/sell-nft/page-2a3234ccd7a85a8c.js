(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2763],{28901:function(e,t,n){Promise.resolve().then(n.bind(n,63128))},72895:function(e,t,n){"use strict";let a=n(17076),s=n(85061),i=n(24717);e.exports={networkMappingAddresses:a,abiNftMarketplace:s,abiERC721:i}},34377:function(e,t,n){"use strict";n.d(t,{v:function(){return d}});var a=n(54463),s=n(62536),i=n(16491),r=n(8483),o=n(80755),p=n(14854);let d=(0,a._)({chains:[i.R,r.F,o.y,p.c],transports:{[i.R.id]:(0,s.d)(),[r.F.id]:(0,s.d)(),[o.y.id]:(0,s.d)(),[p.c.id]:(0,s.d)()}})},63128:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var a=n(57437);n(66648);var s=n(26735),i=n(22671),r=n(58569),o=n(294),p=n(77655),d=n(73336),l=n(72895),u=n(60479),y=n(46717),c=n(28509),m=n(42921),f=n(98286),T=n(2265),b=n(34377),g=n(42467);function k(){let{isConnected:e,isDisconnected:t,address:n}=(0,s.m)(),k=(0,f.x)(),x=k in l.networkMappingAddresses?l.networkMappingAddresses[k].NftMarketplace[0]:null,[v,h]=(0,T.useState)("0"),[w]=i.Z.useForm(),[M,I]=r.ZP.useMessage(),{isPending:N,writeContract:A}=(0,u.S)(),_=async e=>{console.log("Approving...");let t=e.nftAddress;console.log("NFT Address:",t);let n=e.tokenId;console.log("Token ID:",n);let a=(0,c.f)(String(e.price)).toString(),s={abi:l.abiERC721,address:t,functionName:"approve",args:[x,BigInt(n)]};console.log("writeContractApproveListing..."),w.resetFields(),M.open({type:"loading",content:"Wait for confirming...",duration:0}),A(s,{onError:e=>{var t;console.log(null!==(t=e.message)&&void 0!==t?t:e.shortMessage),M.destroy(),M.open({type:"error",content:e.shortMessage})},onSuccess:async e=>{await F(e,t,n,a)}})};async function F(e,t,n,a){M.destroy(),console.log("Waiting for block Confirmations Approve listing..."),console.log(e),M.open({type:"loading",content:"Waiting for block Confirmations...",duration:0}),await (0,y.e)(b.v,{hash:e,confirmations:1}),console.log("Approve listing confirmed! (with ".concat(1," blockConfirmations)")),M.destroy(),console.log("Ok! Now time to list"),console.log("NFT Address:",t),console.log("Token ID:",n),console.log("Price:",(0,m.b)(BigInt(a),18),"ETH"),M.open({type:"loading",content:"Wait for confirming...",duration:0}),A({abi:l.abiNftMarketplace,address:x,functionName:"listItem",args:[t,BigInt(n),BigInt(a)]},{onError:e=>{var t;console.log(null!==(t=e.message)&&void 0!==t?t:e.shortMessage),M.destroy(),M.open({type:"error",content:e.shortMessage})},onSuccess:async e=>{await j(e)}})}async function j(e){M.destroy(),console.log("Waiting for block Confirmations List item..."),console.log(e),M.open({type:"loading",content:"Waiting for block Confirmations...",duration:0}),await (0,y.e)(b.v,{hash:e,confirmations:1}),console.log("List item confirmed! (with ".concat(1," blockConfirmations)")),M.destroy(),M.open({type:"success",content:"List item confirmed!"})}let P={abi:l.abiNftMarketplace,address:x,functionName:"withdrawProceeds",args:[]},C=async e=>{M.destroy(),console.log("Waiting for block Confirmations Withdraw Proceeds..."),console.log(e),M.open({type:"loading",content:"Waiting for block Confirmations...",duration:0}),await (0,y.e)(b.v,{hash:e,confirmations:1}),console.log("Withdraw confirmed! (with ".concat(1," blockConfirmations)")),M.destroy(),S(),M.open({type:"success",content:"Withdraw confirmed!"})};async function S(){11155111==k&&h((await (0,g.L)(b.v,{abi:l.abiNftMarketplace,address:x,functionName:"getProceeds",args:[n]})).toString())}return(0,T.useEffect)(()=>{e&&S()},[n,e,k]),(0,a.jsxs)(a.Fragment,{children:[I,(0,a.jsx)("div",{className:"w-full",children:(0,a.jsxs)("div",{className:" flex flex-col items-center justify-center h-screen space-y-10",children:[(0,a.jsxs)("h1",{className:" text-4xl font-mono font-bold",children:[t&&"Connet your wallet (with sepolia nerwork)",e&&11155111!=k&&"Please switch to sepolia nerwork"]}),e&&11155111==k&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:" text-4xl font-mono font-bold text-rose-500",children:"Sell your NFT"}),(0,a.jsxs)(i.Z,{form:w,size:"large",name:"mainForm",onFinish:_,autoComplete:"off",layout:"vertical",initialValues:{nftAddress:null,tokenId:null,price:null},children:[(0,a.jsx)(i.Z.Item,{label:"NFT Address",name:"nftAddress",rules:[{required:!0,message:"Please input your NFT Address!"}],children:(0,a.jsx)(o.Z,{})}),(0,a.jsx)(i.Z.Item,{label:"Token ID",name:"tokenId",rules:[{type:"number",required:!0,min:0,message:"Please input valid Token ID!"}],children:(0,a.jsx)(p.Z,{min:0})}),(0,a.jsx)(i.Z.Item,{label:"Price (ETH)",name:"price",rules:[{type:"number",required:!0,min:0,message:"Please input valid price!"}],children:(0,a.jsx)(p.Z,{min:0})}),(0,a.jsx)(i.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,a.jsx)(d.ZP,{type:"primary",size:"large",htmlType:"submit",disabled:N,children:"Submit"})})]}),(0,a.jsx)("div",{children:0!=v&&(0,a.jsxs)("h1",{className:" text-2xl font-mono font-bold text-green-500",children:["Withdraw ",v," proceeds"]})}),"0"!=v?(0,a.jsx)(d.ZP,{type:"primary",onClick:()=>{M.open({type:"loading",content:"Wait for confirming...",duration:0}),A(P,{onError:e=>{var t;console.log(null!==(t=e.message)&&void 0!==t?t:e.shortMessage),M.destroy(),M.open({type:"error",content:e.shortMessage})},onSuccess:async e=>{await C(e)}})},children:"Withdraw"}):(0,a.jsx)("div",{children:(0,a.jsx)("h1",{className:" text-2xl font-mono font-bold text-blue-400",children:"No proceeds detected"})})]})]})})]})}},24717:function(e){"use strict";e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"balance","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"operator","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"owner","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"_approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},85061:function(e){"use strict";e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"nftAddress","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"NftMarketplace__AlreadyListed","type":"error"},{"inputs":[],"name":"NftMarketplace__NoProceeds","type":"error"},{"inputs":[],"name":"NftMarketplace__NotApprovedForMarketplace","type":"error"},{"inputs":[{"internalType":"address","name":"nftAddress","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"NftMarketplace__NotListed","type":"error"},{"inputs":[],"name":"NftMarketplace__NotOwner","type":"error"},{"inputs":[],"name":"NftMarketplace__PriceMustBeAboveZero","type":"error"},{"inputs":[{"internalType":"address","name":"nftAddress","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"}],"name":"NftMarketplace__PriceNotMet","type":"error"},{"inputs":[],"name":"NftMarketplace__TransferFailed","type":"error"},{"inputs":[],"name":"ReentrancyGuardReentrantCall","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"buyer","type":"address"},{"indexed":true,"internalType":"address","name":"nftAddress","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"}],"name":"ItemBought","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"seller","type":"address"},{"indexed":true,"internalType":"address","name":"nftAddress","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ItemCanceled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"seller","type":"address"},{"indexed":true,"internalType":"address","name":"nftAddress","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"}],"name":"ItemListed","type":"event"},{"inputs":[{"internalType":"address","name":"nftAddress","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"buyItem","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"nftAddress","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"cancelListing","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"nftAddress","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getListing","outputs":[{"components":[{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"address","name":"seller","type":"address"}],"internalType":"struct NftMarketplace.Listing","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"seller","type":"address"}],"name":"getProceeds","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"nftAddress","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"}],"name":"listItem","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"nftAddress","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"newPrice","type":"uint256"}],"name":"updateListing","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawProceeds","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},17076:function(e){"use strict";e.exports=JSON.parse('{"31337":{"NftMarketplace":["0x5FbDB2315678afecb367f032d93F642f64180aa3"]},"11155111":{"NftMarketplace":["0x0c951b6fFEaD58D44f2149B361a1fe08BE3f1695"]}}')}},function(e){e.O(0,[6908,6790,2909,4772,2971,7023,1744],function(){return e(e.s=28901)}),_N_E=e.O()}]);